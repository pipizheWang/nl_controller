终端1：
conda activate torch
make px4_sitl gz_x500

终端2：
conda activate torch
ros2 run mavros mavros_node --ros-args -p fcu_url:=udp://:14540@127.0.0.1:14557 --params-file ~/mavros_config.yaml

终端3：
conda deactivate
source /opt/ros/jazzy/setup.bash
source install/setup.bash

ros2 service call /mavros/set_mode mavros_msgs/srv/SetMode "{custom_mode: 'OFFBOARD'}"

ros2 run nl_controller attitude_controller

ros2 run nl_controller phi_estimate

ros2 run nl_controller traj_controller_position
ros2 run nl_controller backstepping_controller
ros2 run nl_controller traj_controller_NL
ros2 run nl_controller traj_controller_NL2
ros2 run nl_controller traj_controller_NF

ros2 param set /traj_controller_position traj_mode true
ros2 param set /backstepping_controller traj_mode true
ros2 param set /traj_controller_NL traj_mode true
ros2 param set /traj_controller_NL2 traj_mode true
ros2 param set /traj_controller_NF traj_mode true

ros2 service call /mavros/cmd/arming mavros_msgs/srv/CommandBool "{value: true}"


colcon build --packages-select nl_controller

export http_proxy=http://127.0.0.1:7890
export https_proxy=http://127.0.0.1:7890

thrust = -0.0015 * a² + 0.0764 * a + 0.1237

卡号：sertmm2@stu.xidian.edu.cn
密码：4G399y5DKPAg